class Menu{constructor(){this.header=document.querySelector("header"),this.burger=document.querySelector(".header-nav__burger"),this.nav=document.querySelector(".header-nav__list"),this.navItem=document.querySelectorAll(".header-nav__link")}menuControl(){this.burger.addEventListener("click",this.menuShow.bind(this)),window.addEventListener("scroll",this.menuFixed.bind(this)),window.addEventListener("change",this.menuFixed.bind(this)),this.closeMenu()}menuShow(){this.burger.classList.toggle("active"),this.nav.classList.toggle("active"),document.body.classList.toggle("hidden")}menuFixed(){const t=document.querySelector(".about"),e=window.pageYOffset,s=document.body.style;e>=t.offsetTop?(this.header.classList.add("fix"),s.paddingTop=this.header.clientHeight+"px"):e>=t.scrollTop&&(this.header.classList.remove("fix"),s.paddingTop=null)}closeMenu(){this.navItem.forEach(t=>{t.addEventListener("click",()=>{this.nav.classList.contains("active")&&(this.burger.classList.remove("active"),this.nav.classList.remove("active"),document.body.classList.remove("hidden"))})})}init(){this.menuControl()}}(new Menu).init();class Tabs{constructor({tabBtn:t,tabContent:e}){this.$btn=document.querySelectorAll(t),this.$content=document.querySelectorAll(e)}controlTab(){this.$btn.forEach(t=>t.addEventListener("click",this.selectTab.bind(this)))}selectTab(t){this.$btn.forEach(t=>t.classList.remove("active"));const e=t.currentTarget;e.classList.add("active");const s=e.getAttribute("data-tab-name");this.selectTabContent(s)}selectTabContent(t){this.$content.forEach(e=>e.classList.contains(t)?e.classList.add("active"):e.classList.remove("active"))}init(){console.log("Tabs init"),this.controlTab()}}const GalleryClassList={container:"gallery",line:"gallery-line",slide:"gallery-slide",dots:"gallery-pagination",dot:"gallery-dot",dot_active:"gallery-dot-active",nav:"gallery-nav",btn_left:"gallery-nav-left",btn_right:"gallery-nav-right"};class Gallery{constructor(t,e={}){this.containerNode=t,this.size=t.childElementCount,this.currentSlide=0,this.currentSlideWasChanged=!1,this.setting={margin:e.margin||0,countShow:e.countShow||1,wheel:e.wheel||!1,dots:e.dots||!1,nav:e.nav||!1},this.dotsCount=this.size+1-this.setting.countShow,this.manageHTML=this.manageHTML.bind(this),this.setParams=this.setParams.bind(this),this.setEvents=this.setEvents.bind(this),this.resizeGallery=this.resizeGallery.bind(this),this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.dragging=this.dragging.bind(this),this.setStylePosition=this.setStylePosition.bind(this),this.clickDots=this.clickDots.bind(this),this.moveToLeft=this.moveToLeft.bind(this),this.moveToRight=this.moveToRight.bind(this),this.changeCurrentSlide=this.changeCurrentSlide.bind(this),this.changeActiveDotClass=this.changeActiveDotClass.bind(this),this.scrollWheel=this.scrollWheel.bind(this),this.manageHTML(),this.setParams(),this.setEvents()}manageHTML(){this.containerNode.classList.add(GalleryClassList.container),this.containerNode.innerHTML=`<div class="${GalleryClassList.line}">${this.containerNode.innerHTML}</div>\n`,this.setting.dots&&this.containerNode.insertAdjacentHTML("beforeend",`<div class="${GalleryClassList.dots}"></div>`),this.setting.nav&&this.containerNode.insertAdjacentHTML("beforeend",`\n        <span class="${GalleryClassList.btn_left}"> < </span>\n        <span class="${GalleryClassList.btn_right}"> > </span>\n      `),this.lineNode=this.containerNode.querySelector("."+GalleryClassList.line),this.dotsNode=this.containerNode.querySelector("."+GalleryClassList.dots),this.slideNodes=Array.from(this.lineNode.children).map(t=>wrapElementByDiv({element:t,className:GalleryClassList.slide})),this.setting.dots&&(this.dotsNode.innerHTML=Array.from(Array(this.dotsCount).keys()).map(t=>`<span class="${GalleryClassList.dot} ${t===this.currentSlide?GalleryClassList.dot_active:""}"></span>`).join(""),this.dotNodes=this.dotsNode.querySelectorAll("."+GalleryClassList.dot)),this.setting.nav&&(this.navLeft=this.containerNode.querySelector("."+GalleryClassList.btn_left),this.navRight=this.containerNode.querySelector("."+GalleryClassList.btn_right))}setParams(){const t=this.containerNode.getBoundingClientRect();this.width=t.width/this.setting.countShow-this.setting.margin,this.maximumX=-this.dotsCount*(this.width+this.setting.margin/this.size),this.x=this.currentSlide*(this.width+this.setting.margin),this.resetStyleTransition(),this.lineNode.style.width=this.size*(this.width+this.setting.margin)+"px",this.lineNode.style.paddingLeft=-this.setting.margin+"px",this.lineNode.style.paddingRight=-this.setting.margin+"px",this.setStylePosition(),Array.from(this.slideNodes).forEach(t=>{t.style.width=this.width+"px",t.style.marginLeft=this.setting.margin+"px",t.style.marginRight=this.setting.margin+"px"})}setEvents(){window.addEventListener("resize",this.resizeGallery),this.lineNode.addEventListener("mousedown",this.startDrag),this.lineNode.addEventListener("mouseup",this.stopDrag),this.lineNode.addEventListener("touchstart",this.startDrag),this.lineNode.addEventListener("touchend",this.stopDrag),this.setting.wheel&&this.lineNode.addEventListener("wheel",this.scrollWheel),this.setting.dots&&this.dotsNode.addEventListener("click",this.clickDots),this.setting.nav&&(this.navRight.addEventListener("click",this.moveToRight),this.navLeft.addEventListener("click",this.moveToLeft))}destroyEvents(){window.removeEventListener("resize",this.debouncedResizeGallery),this.lineNode.removeEventListener("mousedown",this.startDrag),this.lineNode.removeEventListener("mouseup",this.stopDrag),this.lineNode.removeEventListener("touchstart",this.startDrag),this.lineNode.removeEventListener("touchend",this.stopDrag),this.setting.dots&&this.dotsNode.removeEventListener("click",this.clickDots),this.setting.nav&&(this.navRight.removeEventListener("click",this.moveToRight),this.navLeft.removeEventListener("click",this.moveToLeft))}resizeGallery(){this.setParams()}startDrag(t){this.currentSlideWasChanged=!1,this.clickX=t.clientX||t.touches[0].clientX,this.startX=this.x,window.addEventListener("mousemove",this.dragging),window.addEventListener("touchmove",this.dragging),this.resetStyleTransition()}stopDrag(){window.removeEventListener("mousemove",this.dragging),window.removeEventListener("touchmove",this.dragging),this.changeCurrentSlide()}dragging(t){this.dragX=t.clientX||t.touches[0].clientX;const e=this.dragX-this.clickX,s=e/50;this.x=Math.max(Math.min(this.startX+e,s),this.maximumX+s),this.setStylePosition(),e>this.width/3&&e>0&&!this.currentSlideWasChanged&&this.currentSlide>0&&(this.currentSlideWasChanged=!0,this.currentSlide-=1),e<-this.width/3&&e<0&&!this.currentSlideWasChanged&&this.currentSlide<this.size-this.setting.countShow&&(this.currentSlideWasChanged=!0,this.currentSlide+=1)}clickDots(t){const e=t.target.closest("span");if(!e)return;let s;for(let t=0;t<this.dotNodes.length;t++)if(this.dotNodes[t]===e){s=t;break}if(s===this.currentSlide)return;const i=Math.abs(this.currentSlide-s);this.currentSlide=s,this.changeCurrentSlide(i)}moveToLeft(){this.currentSlide<=0?this.currentSlide=this.size-this.setting.countShow:this.currentSlide-=1,this.changeCurrentSlide()}moveToRight(){this.currentSlide>=this.size-this.setting.countShow?this.currentSlide=0:this.currentSlide+=1,this.changeCurrentSlide()}changeCurrentSlide(t){this.x=-this.currentSlide*(this.width+this.setting.margin),this.setStylePosition(t),this.setStyleTransition(),this.setting.dots&&this.changeActiveDotClass()}scrollWheel(t){t.wheelDelta<0?this.moveToRight():this.moveToLeft()}changeActiveDotClass(){for(let t=0;t<this.dotNodes.length;t++)this.dotNodes[t].classList.remove(GalleryClassList.dot_active);this.dotNodes[this.currentSlide].classList.add(GalleryClassList.dot_active)}setStylePosition(){this.lineNode.style.transform=`translate3d(${this.x}px, 0, 0)`}setStyleTransition(t=1){this.lineNode.style.transition=`all ${.5*t}s ease 0s`}resetStyleTransition(){this.lineNode.style.transition="all 0s ease 0s"}}function wrapElementByDiv({element:t,className:e}){const s=document.createElement("div");return s.classList.add(e),t.parentNode.insertBefore(s,t),s.appendChild(t),s}function debounce(t,e=100){let s;return function(i){clearTimeout(s),s=setTimeout(t,e,i)}}function parallax(t){let e=window.scrollY;document.querySelector(t).style.transform=`translateY(${e/2}px)`,scrollHome()}function moveParallax(t){const e=this.querySelector(".works-tabs__item-product img").style;let s=t.clientX,i=t.clientY;e.transform=`translate(-${s/60}px,-${i/60}px)`}function resetParallax(){this.querySelector(".works-tabs__item-product img").style.transform="translate(0)"}window.onscroll=()=>{document.querySelector("header").classList.contains("fix")||parallax(".web-dev__bg")},document.querySelectorAll(".works-tabs__item-product").forEach(t=>{t.addEventListener("mousemove",moveParallax),t.addEventListener("mouseout",resetParallax)});const init=document.querySelector(".team-slider-wrapper");function scrollHome(){const t=document.querySelector(".scroll-btn"),e={top:0,behavior:"smooth"};window.scrollY>1e3?t.classList.add("active"):t.classList.remove("active"),t.addEventListener("click",()=>window.scrollTo(e))}function scrollToItem(){let t=document.querySelectorAll('[id*="#"]');const e={behavior:"smooth",block:"start"};for(scl of t)scl&&scl.addEventListener("click",t=>{t.preventDefault(),sclId=t.currentTarget.getAttribute("id"),document.querySelector(sclId).scrollIntoView(e)})}new Gallery(init,{margin:10,countShow:3,dots:!0,nav:!1}),scrollToItem();const tab_class={tabBtn:".works-tabs__label",tabContent:".works-tabs__item"};async function getContent(){let t=await fetch("content.html",{method:"GET"});const e=document.querySelectorAll(".works-tabs__item-product"),s=document.querySelector(".works__btn > a");if(t.ok){let i=await t.text();s.addEventListener("click",()=>{e.forEach(t=>{t.parentElement.classList.contains("active")&&t.parentElement.insertAdjacentHTML("beforeend",i)}),console.log("hui")})}}new Tabs(tab_class).init(),getContent();